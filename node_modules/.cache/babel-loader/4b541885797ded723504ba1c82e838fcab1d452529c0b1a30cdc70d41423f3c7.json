{"ast":null,"code":"import axios from \"axios\";\nimport { useState } from \"react\";\n// import \"./App.css\";\n\nconst initPayment = (data, book) => {\n  const options = {\n    key: \"rzp_test_wVqNyRVh1Gh4nm\",\n    amount: data.amount,\n    currency: data.currency,\n    name: book.name,\n    description: \"Test Transaction\",\n    image: book.img,\n    order_id: data.id,\n    handler: async response => {\n      try {\n        const verifyUrl = \"http://localhost:3000/api/payment/verify\";\n        const {\n          data\n        } = await axios.post(verifyUrl, response);\n        console.log(data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    theme: {\n      color: \"#3399cc\"\n    }\n  };\n  const rzp1 = new window.Razorpay(options);\n  rzp1.open();\n  //         const rzp = new window.Razorpay();\n  // rzp.createPayment(options);\n};\n\nconst handlePayment = async book => {\n  try {\n    const orderUrl = \"http://localhost:3000/api/payment/orders/pay\";\n    const {\n      data\n    } = await axios.post(orderUrl, {\n      amount: book.price\n    });\n    console.log(data);\n    initPayment(data.data, book);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// return (\n// \t<div className=\"App\">\n// \t\t<div className=\"book_container\">\n// \t\t\t<img src={book.img} alt=\"book_img\" className=\"book_img\" />\n// \t\t\t<p className=\"book_name\">{book.name}</p>\n// \t\t\t<p className=\"book_author\">By {book.author}</p>\n// \t\t\t<p className=\"book_price\">\n// \t\t\t\tPrice : <span>&#x20B9; {book.price}</span>\n// \t\t\t</p>\n// \t\t\t<button onClick={handlePayment} className=\"buy_btn\">\n// \t\t\t\tbuy now\n// \t\t\t</button>\n// \t\t</div>\n// \t</div>\n\nexport default handlePayment;","map":{"version":3,"names":["axios","useState","initPayment","data","book","options","key","amount","currency","name","description","image","img","order_id","id","handler","response","verifyUrl","post","console","log","error","theme","color","rzp1","window","Razorpay","open","handlePayment","orderUrl","price"],"sources":["/home/alok/Downloads/TrndZaade/frontend/src/components/Payment.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n// import \"./App.css\";\n\n\n\n\tconst initPayment = (data, book) => {\n\t\tconst options = {\n\t\t\tkey: \"rzp_test_wVqNyRVh1Gh4nm\",\n\t\t\tamount: data.amount,\n\t\t\tcurrency: data.currency,\n\t\t\tname: book.name,\n\t\t\tdescription: \"Test Transaction\",\n\t\t\timage: book.img,\n\t\t\torder_id: data.id,\n\t\t\thandler: async (response) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst verifyUrl = \"http://localhost:3000/api/payment/verify\";\n\t\t\t\t\tconst { data } = await axios.post(verifyUrl, response);\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttheme: {\n\t\t\t\tcolor: \"#3399cc\",\n\t\t\t},\n\t\t};\n\t\tconst rzp1 = new window.Razorpay(options);\n\t\trzp1.open();\n//         const rzp = new window.Razorpay();\n// rzp.createPayment(options);\n\t};\n\n\tconst handlePayment = async (book) => {\n\t\ttry {\n\t\t\tconst orderUrl = \"http://localhost:3000/api/payment/orders/pay\";\n\t\t\tconst { data } = await axios.post(orderUrl, { amount: book.price });\n\t\t\tconsole.log(data);\n\t\t\tinitPayment(data.data, book);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\t// return (\n\t// \t<div className=\"App\">\n\t// \t\t<div className=\"book_container\">\n\t// \t\t\t<img src={book.img} alt=\"book_img\" className=\"book_img\" />\n\t// \t\t\t<p className=\"book_name\">{book.name}</p>\n\t// \t\t\t<p className=\"book_author\">By {book.author}</p>\n\t// \t\t\t<p className=\"book_price\">\n\t// \t\t\t\tPrice : <span>&#x20B9; {book.price}</span>\n\t// \t\t\t</p>\n\t// \t\t\t<button onClick={handlePayment} className=\"buy_btn\">\n\t// \t\t\t\tbuy now\n\t// \t\t\t</button>\n\t// \t\t</div>\n\t// \t</div>\n\nexport default handlePayment;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC;;AAIC,MAAMC,WAAW,GAAG,CAACC,IAAI,EAAEC,IAAI,KAAK;EACnC,MAAMC,OAAO,GAAG;IACfC,GAAG,EAAE,yBAAyB;IAC9BC,MAAM,EAAEJ,IAAI,CAACI,MAAM;IACnBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;IACvBC,IAAI,EAAEL,IAAI,CAACK,IAAI;IACfC,WAAW,EAAE,kBAAkB;IAC/BC,KAAK,EAAEP,IAAI,CAACQ,GAAG;IACfC,QAAQ,EAAEV,IAAI,CAACW,EAAE;IACjBC,OAAO,EAAE,MAAOC,QAAQ,IAAK;MAC5B,IAAI;QACH,MAAMC,SAAS,GAAG,0CAA0C;QAC5D,MAAM;UAAEd;QAAK,CAAC,GAAG,MAAMH,KAAK,CAACkB,IAAI,CAACD,SAAS,EAAED,QAAQ,CAAC;QACtDG,OAAO,CAACC,GAAG,CAACjB,IAAI,CAAC;MAClB,CAAC,CAAC,OAAOkB,KAAK,EAAE;QACfF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACnB;IACD,CAAC;IACDC,KAAK,EAAE;MACNC,KAAK,EAAE;IACR;EACD,CAAC;EACD,MAAMC,IAAI,GAAG,IAAIC,MAAM,CAACC,QAAQ,CAACrB,OAAO,CAAC;EACzCmB,IAAI,CAACG,IAAI,EAAE;EACb;EACA;AACC,CAAC;;AAED,MAAMC,aAAa,GAAG,MAAOxB,IAAI,IAAK;EACrC,IAAI;IACH,MAAMyB,QAAQ,GAAG,8CAA8C;IAC/D,MAAM;MAAE1B;IAAK,CAAC,GAAG,MAAMH,KAAK,CAACkB,IAAI,CAACW,QAAQ,EAAE;MAAEtB,MAAM,EAAEH,IAAI,CAAC0B;IAAM,CAAC,CAAC;IACnEX,OAAO,CAACC,GAAG,CAACjB,IAAI,CAAC;IACjBD,WAAW,CAACC,IAAI,CAACA,IAAI,EAAEC,IAAI,CAAC;EAC7B,CAAC,CAAC,OAAOiB,KAAK,EAAE;IACfF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACnB;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED,eAAeO,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}