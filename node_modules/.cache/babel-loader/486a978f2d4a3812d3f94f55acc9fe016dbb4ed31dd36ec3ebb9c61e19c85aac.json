{"ast":null,"code":"var _jsxFileName = \"/home/alok/Downloads/TrndZaade/frontend/src/screens/PlaceOrderScreen.js\",\n  _s = $RefreshSig$();\nimport Axios from \"axios\";\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { toast } from \"react-toastify\";\nimport { getError } from \"../utils\";\nimport { Store } from \"../Store\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction onApprove(data, actions) {\n  return actions.order.capture().then(async function (details) {\n    try {\n      // dispatch({ type: 'PAY_REQUEST' });\n      // const { data } = await axios.put(\n      //   `/api/orders/${order._id}/pay`,\n      //   details,\n      //   {\n      //     headers: { authorization: `Bearer ${userInfo.token}` },\n      //   }\n      // );\n      // dispatch({ type: \"PAY_SUCCESS\", payload: data });\n      toast.success(\"Order is paid\");\n    } catch (err) {\n      // dispatch({ type: \"PAY_FAIL\", payload: getError(err) });\n      toast.error(getError(err));\n    }\n  });\n}\nfunction loadScript(src) {\n  return new Promise(resolve => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n    script.onload = () => {\n      resolve(true);\n    };\n    script.onerror = () => {\n      resolve(false);\n    };\n    document.body.appendChild(script);\n  });\n}\nconst __DEV__ = document.domain === \"localhost\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"CREATE_REQUEST\":\n      return {\n        ...state,\n        loading: true\n      };\n    case \"CREATE_SUCCESS\":\n      return {\n        ...state,\n        loading: false\n      };\n    case \"CREATE_FAIL\":\n      return {\n        ...state,\n        loading: false\n      };\n    default:\n      return state;\n  }\n};\nexport default function PlaceOrderScreen() {\n  _s();\n  const navigate = useNavigate();\n  // onApprove(\"data\");\n\n  const [{\n    loading\n  }, dispatch] = useReducer(reducer, {\n    loading: false\n  });\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart,\n    userInfo\n  } = state;\n  const round2 = num => Math.round(num * 100 + Number.EPSILON) / 100; // 123.2345 => 123.23\n  cart.itemsPrice = round2(cart.cartItems.reduce((a, c) => a + c.quantity * c.price, 0));\n  cart.shippingPrice = cart.itemsPrice > 100 ? round2(0) : round2(10);\n  cart.taxPrice = round2(0.15 * cart.itemsPrice);\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\n  const [isPaid, setIsPaid] = useState(false);\n  const placeOrderHandler = async () => {\n    if (RazorpaySignature != null) {\n      setIsPaid(true);\n    }\n    try {\n      dispatch({\n        type: \"CREATE_REQUEST\"\n      });\n      const {\n        data\n      } = await Axios.post(\"/api/orders\", {\n        orderItems: cart.cartItems,\n        shippingAddress: cart.shippingAddress,\n        paymentMethod: cart.paymentMethod,\n        itemsPrice: cart.itemsPrice,\n        shippingPrice: cart.shippingPrice,\n        taxPrice: cart.taxPrice,\n        isPaid: isPaid,\n        totalPrice: cart.totalPrice,\n        RazorpayOrderID: RazorpayOrderID,\n        RazorpayPaymentID: RazorpayPaymentID,\n        RazorpaySignature: RazorpaySignature\n      }, {\n        headers: {\n          authorization: `Bearer ${userInfo.token}`\n        }\n      });\n      ctxDispatch({\n        type: \"CART_CLEAR\"\n      });\n      dispatch({\n        type: \"CREATE_SUCCESS\"\n      });\n      localStorage.removeItem(\"cartItems\");\n      navigate(`/order/${data.order._id}`);\n    } catch (err) {\n      dispatch({\n        type: \"CREATE_FAIL\"\n      });\n      toast.error(getError(err));\n    }\n  };\n  const [PaymentSuccess, setPaymentSuccess] = useState(false);\n  useEffect(() => {\n    if (!cart.paymentMethod) {\n      navigate(\"/payment\");\n    }\n  }, [cart, navigate]);\n  useEffect(() => {\n    if (PaymentSuccess) {\n      console.log(\"orderPlaced\");\n      placeOrderHandler();\n      setPaymentSuccess(false);\n    }\n  }, [PaymentSuccess, placeOrderHandler]);\n  const [name, setName] = useState(\"\");\n  const [RazorpayOrderID, setRazorpayOrderID] = useState();\n  const [RazorpayPaymentID, setRazorpayPaymentID] = useState();\n  const [RazorpaySignature, setRazorpaySignature] = useState(null);\n  async function displayRazorpay() {\n    if (cart.paymentMethod === \"Pay Now\") {\n      const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n      if (!res) {\n        alert(\"Razorpay SDK failed to load. Are you online?\");\n        return;\n      }\n      const result = await axios.post(\"/razorpay\", {\n        amount: cart.totalPrice\n      });\n      const data = result.data;\n      console.log(data);\n      const options = {\n        key: __DEV__ ? \"rzp_test_OtYQpHZwPpuyIg\" : \"PRODUCTION_KEY\",\n        currency: data.currency,\n        amount: parseInt(data.amount),\n        order_id: data.id,\n        name: \"Trendzaade\",\n        description: \"Thank you for Shopping with us\",\n        image: \"/images/bag_logo.png\",\n        handler: function (response) {\n          setRazorpayOrderID(response.razorpay_order_id);\n          setRazorpayPaymentID(response.razorpay_payment_id);\n          setRazorpaySignature(response.razorpay_signature);\n          setPaymentSuccess(true);\n        }\n      };\n      const paymentObject = new window.Razorpay(options);\n      paymentObject.open();\n    } else {\n      setRazorpayOrderID(\"null\");\n      setRazorpayPaymentID(\"null\");\n      setRazorpaySignature(\"null\");\n      setPaymentSuccess(true);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CheckoutSteps, {\n      step1: true,\n      step2: true,\n      step3: true,\n      step4: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Preview Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-3\",\n      children: \"Preview Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: \"Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), \" \", cart.shippingAddress.fullName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 72\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Address: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), \" \", cart.shippingAddress.address, \",\", cart.shippingAddress.city, \", \", cart.shippingAddress.postalCode, \",\", cart.shippingAddress.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/shipping\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: \"Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Method:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), \" \", cart.paymentMethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/payment\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: \"Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: cart.cartItems.map(item => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.image,\n                      alt: item.name,\n                      className: \"img-fluid rounded img-thumbnail\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 25\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/product/${item.slug}`,\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    children: [\"\\u20B9\", item.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)\n              }, item._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/cart\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: \"Order Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Items\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\"\\u20B9\", cart.itemsPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Shipping\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\"\\u20B9\", cart.shippingPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\"\\u20B9\", cart.taxPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \" Order Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"\\u20B9\", cart.totalPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    onClick: displayRazorpay,\n                    disabled: cart.cartItems.length === 0,\n                    children: \"Place Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this), loading && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n}\n_s(PlaceOrderScreen, \"3RMpZvHNEYr2gxCXonD/6lEtDkc=\", false, function () {\n  return [useNavigate];\n});\n_c = PlaceOrderScreen;\nvar _c;\n$RefreshReg$(_c, \"PlaceOrderScreen\");","map":{"version":3,"names":["Axios","React","useContext","useEffect","useReducer","useState","Helmet","Link","useNavigate","Row","Col","Card","Button","ListGroup","toast","getError","Store","CheckoutSteps","LoadingBox","axios","onApprove","data","actions","order","capture","then","details","success","err","error","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","__DEV__","domain","reducer","state","action","type","loading","PlaceOrderScreen","navigate","dispatch","ctxDispatch","cart","userInfo","round2","num","Math","round","Number","EPSILON","itemsPrice","cartItems","reduce","a","c","quantity","price","shippingPrice","taxPrice","totalPrice","isPaid","setIsPaid","placeOrderHandler","RazorpaySignature","post","orderItems","shippingAddress","paymentMethod","RazorpayOrderID","RazorpayPaymentID","headers","authorization","token","localStorage","removeItem","_id","PaymentSuccess","setPaymentSuccess","console","log","name","setName","setRazorpayOrderID","setRazorpayPaymentID","setRazorpaySignature","displayRazorpay","res","alert","result","amount","options","key","currency","parseInt","order_id","id","description","image","handler","response","razorpay_order_id","razorpay_payment_id","razorpay_signature","paymentObject","window","Razorpay","open","fullName","address","city","postalCode","country","map","item","slug","toFixed","length"],"sources":["/home/alok/Downloads/TrndZaade/frontend/src/screens/PlaceOrderScreen.js"],"sourcesContent":["import Axios from \"axios\";\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { toast } from \"react-toastify\";\nimport { getError } from \"../utils\";\nimport { Store } from \"../Store\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport axios from \"axios\";\n\nfunction onApprove(data, actions) {\n  return actions.order.capture().then(async function (details) {\n    try {\n      // dispatch({ type: 'PAY_REQUEST' });\n      // const { data } = await axios.put(\n      //   `/api/orders/${order._id}/pay`,\n      //   details,\n      //   {\n      //     headers: { authorization: `Bearer ${userInfo.token}` },\n      //   }\n      // );\n      // dispatch({ type: \"PAY_SUCCESS\", payload: data });\n      toast.success(\"Order is paid\");\n    } catch (err) {\n      // dispatch({ type: \"PAY_FAIL\", payload: getError(err) });\n      toast.error(getError(err));\n    }\n  });\n}\n\nfunction loadScript(src) {\n  return new Promise((resolve) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n    script.onload = () => {\n      resolve(true);\n    };\n    script.onerror = () => {\n      resolve(false);\n    };\n    document.body.appendChild(script);\n  });\n}\n\nconst __DEV__ = document.domain === \"localhost\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"CREATE_REQUEST\":\n      return { ...state, loading: true };\n    case \"CREATE_SUCCESS\":\n      return { ...state, loading: false };\n    case \"CREATE_FAIL\":\n      return { ...state, loading: false };\n    default:\n      return state;\n  }\n};\n\nexport default function PlaceOrderScreen() {\n  const navigate = useNavigate();\n  // onApprove(\"data\");\n\n  const [{ loading }, dispatch] = useReducer(reducer, {\n    loading: false,\n  });\n\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { cart, userInfo } = state;\n\n  const round2 = (num) => Math.round(num * 100 + Number.EPSILON) / 100; // 123.2345 => 123.23\n  cart.itemsPrice = round2(\n    cart.cartItems.reduce((a, c) => a + c.quantity * c.price, 0)\n  );\n  cart.shippingPrice = cart.itemsPrice > 100 ? round2(0) : round2(10);\n  cart.taxPrice = round2(0.15 * cart.itemsPrice);\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\n\n  const [isPaid, setIsPaid] = useState(false);\n\n  const placeOrderHandler = async () => {\n\n    if(RazorpaySignature != null){\n      setIsPaid(true);\n    }\n\n    try {\n      dispatch({ type: \"CREATE_REQUEST\" });\n\n      const { data } = await Axios.post(\n        \"/api/orders\",\n        {\n          orderItems: cart.cartItems,\n          shippingAddress: cart.shippingAddress,\n          paymentMethod: cart.paymentMethod,\n          itemsPrice: cart.itemsPrice,\n          shippingPrice: cart.shippingPrice,\n          taxPrice: cart.taxPrice,\n          isPaid:isPaid,\n          totalPrice: cart.totalPrice,\n          RazorpayOrderID: RazorpayOrderID,\n          RazorpayPaymentID: RazorpayPaymentID,\n          RazorpaySignature: RazorpaySignature,\n        },\n        {\n          headers: {\n            authorization: `Bearer ${userInfo.token}`,\n          },\n        }\n      );\n      ctxDispatch({ type: \"CART_CLEAR\" });\n      dispatch({ type: \"CREATE_SUCCESS\" });\n      localStorage.removeItem(\"cartItems\");\n      navigate(`/order/${data.order._id}`);\n    } catch (err) {\n      dispatch({ type: \"CREATE_FAIL\" });\n      toast.error(getError(err));\n    }\n  };\n  const [PaymentSuccess, setPaymentSuccess] = useState(false);\n\n  useEffect(() => {\n    if (!cart.paymentMethod) {\n      navigate(\"/payment\");\n    }\n  }, [cart, navigate]);\n\n  useEffect(() => {\n    if (PaymentSuccess) {\n      console.log(\"orderPlaced\");\n      placeOrderHandler();\n      setPaymentSuccess(false);\n    }\n  }, [PaymentSuccess, placeOrderHandler]);\n\n  const [name, setName] = useState(\"\");\n  const [RazorpayOrderID, setRazorpayOrderID] = useState();\n\n  const [RazorpayPaymentID, setRazorpayPaymentID] = useState();\n  const [RazorpaySignature, setRazorpaySignature] = useState(null);\n\n  async function displayRazorpay() {\n\n   \n\n    if (cart.paymentMethod === \"Pay Now\") {\n      \n      const res = await loadScript(\n        \"https://checkout.razorpay.com/v1/checkout.js\"\n      );\n\n      if (!res) {\n        alert(\"Razorpay SDK failed to load. Are you online?\");\n        return;\n      }\n\n      const result = await axios.post(\"/razorpay\", {\n        amount: cart.totalPrice,\n      });\n\n      const data = result.data;\n\n      console.log(data);\n\n      const options = {\n        key: __DEV__ ? \"rzp_test_OtYQpHZwPpuyIg\" : \"PRODUCTION_KEY\",\n        currency: data.currency,\n        amount: parseInt(data.amount),\n        order_id: data.id,\n        name: \"Trendzaade\",\n        description: \"Thank you for Shopping with us\",\n        image: \"/images/bag_logo.png\",\n        handler: function (response) {\n          setRazorpayOrderID(response.razorpay_order_id);\n          setRazorpayPaymentID(response.razorpay_payment_id);\n          setRazorpaySignature(response.razorpay_signature);\n          setPaymentSuccess(true);\n        },\n        \n      };\n      const paymentObject = new window.Razorpay(options);\n      paymentObject.open();\n    }\n    else{\n      setRazorpayOrderID(\"null\");\n      setRazorpayPaymentID(\"null\");\n      setRazorpaySignature(\"null\");\n      setPaymentSuccess(true);\n    }\n  }\n\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\n      <Helmet>\n        <title>Preview Order</title>\n      </Helmet>\n      <h1 className=\"my-3\">Preview Order</h1>\n      <Row>\n        <Col md={8}>\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Shipping</Card.Title>\n              <Card.Text>\n                <strong>Name:</strong> {cart.shippingAddress.fullName} <br />\n                <strong>Address: </strong> {cart.shippingAddress.address},\n                {cart.shippingAddress.city}, {cart.shippingAddress.postalCode},\n                {cart.shippingAddress.country}\n              </Card.Text>\n              <Link to=\"/shipping\">Edit</Link>\n            </Card.Body>\n          </Card>\n\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Payment</Card.Title>\n              <Card.Text>\n                <strong>Method:</strong> {cart.paymentMethod}\n              </Card.Text>\n              <Link to=\"/payment\">Edit</Link>\n            </Card.Body>\n          </Card>\n\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Items</Card.Title>\n              <ListGroup variant=\"flush\">\n                {cart.cartItems.map((item) => (\n                  <ListGroup.Item key={item._id}>\n                    <Row className=\"align-items-center\">\n                      <Col md={6}>\n                        <img\n                          src={item.image}\n                          alt={item.name}\n                          className=\"img-fluid rounded img-thumbnail\"\n                        ></img>{\" \"}\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\n                      </Col>\n                      <Col md={3}>\n                        <span>{item.quantity}</span>\n                      </Col>\n                      <Col md={3}>₹{item.price}</Col>\n                    </Row>\n                  </ListGroup.Item>\n                ))}\n              </ListGroup>\n              <Link to=\"/cart\">Edit</Link>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card>\n            <Card.Body>\n              <Card.Title>Order Summary</Card.Title>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Items</Col>\n                    <Col>₹{cart.itemsPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Shipping</Col>\n                    <Col>₹{cart.shippingPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Tax</Col>\n                    <Col>₹{cart.taxPrice.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>\n                      <strong> Order Total</strong>\n                    </Col>\n                    <Col>\n                      <strong>₹{cart.totalPrice.toFixed(2)}</strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <div className=\"d-grid\">\n                    <Button\n                      type=\"button\"\n                      onClick={displayRazorpay}\n                      disabled={cart.cartItems.length === 0}\n                    >\n                      Place Order\n                    </Button>\n                  </div>\n                  {loading && <LoadingBox></LoadingBox>}\n                </ListGroup.Item>\n              </ListGroup>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}