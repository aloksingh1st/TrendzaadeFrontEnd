{"ast":null,"code":"import _regeneratorRuntime from\"/home/alok/Downloads/TrndZaade/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/alok/Downloads/TrndZaade/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RazorpayPaymentScreen(){function loadScript(src){return new Promise(function(resolve){var script=document.createElement(\"script\");script.src=src;script.onload=function(){resolve(true);};script.onerror=function(){resolve(false);};document.body.appendChild(script);});}function displayRazorpay(){return _displayRazorpay.apply(this,arguments);}function _displayRazorpay(){_displayRazorpay=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,result,_result$data,amount,order_id,currency,options,paymentObject;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");case 2:res=_context2.sent;if(res){_context2.next=6;break;}alert(\"Razorpay SDK failed to load. Are you online?\");return _context2.abrupt(\"return\");case 6:_context2.next=8;return axios.post(\"/api/payment/orders\");case 8:result=_context2.sent;if(result){_context2.next=12;break;}alert(\"Server error. Are you online?\");return _context2.abrupt(\"return\");case 12:// const {logo} = \"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\"\n_result$data=result.data,amount=_result$data.amount,order_id=_result$data.id,currency=_result$data.currency;options={key:\"rzp_test_OtYQpHZwPpuyIg\",// Enter the Key ID generated from the Dashboard\namount:amount.toString(),currency:currency,name:\"TrendZaade\",description:\"Pay Now Get Delivered\",image:\"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\",order_id:order_id,handler:function(){var _handler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={orderCreationId:order_id,razorpayPaymentId:response.razorpay_payment_id,razorpayOrderId:response.razorpay_order_id,razorpaySignature:response.razorpay_signature};case 1:case\"end\":return _context.stop();}},_callee);}));function handler(_x){return _handler.apply(this,arguments);}return handler;}(),prefill:{name:\"\",email:\"\",contact:\"\"},notes:{address:\"Trendzaade Office\"},theme:{color:\"#61dafb\"}};paymentObject=new window.Razorpay(options);paymentObject.open();case 16:case\"end\":return _context2.stop();}},_callee2);}));return _displayRazorpay.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\",className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Buy React now!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"App-link\",onClick:displayRazorpay,children:\"Pay \\u20B9500\"})]})});}export default RazorpayPaymentScreen;","map":{"version":3,"names":["React","axios","RazorpayPaymentScreen","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","displayRazorpay","res","alert","post","result","data","amount","order_id","id","currency","options","key","toString","name","description","image","handler","response","orderCreationId","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","razorpaySignature","razorpay_signature","prefill","email","contact","notes","address","theme","color","paymentObject","window","Razorpay","open"],"sources":["/home/alok/Downloads/TrndZaade/frontend/src/screens/RazorpayPaymentScreen.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nfunction RazorpayPaymentScreen(){\n    function loadScript(src) {\n        return new Promise((resolve) => {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => {\n                resolve(true);\n            };\n            script.onerror = () => {\n                resolve(false);\n            };\n            document.body.appendChild(script);\n        });\n    }\n\n    async function displayRazorpay() {\n        const res = await loadScript(\n            \"https://checkout.razorpay.com/v1/checkout.js\"\n        );\n\n        if (!res) {\n            alert(\"Razorpay SDK failed to load. Are you online?\");\n            return;\n        }\n\n        const result = await axios.post(\"/api/payment/orders\");\n\n        if (!result) {\n            alert(\"Server error. Are you online?\");\n            return;\n        }\n\n        // const {logo} = \"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\"\n\n        const { amount, id: order_id, currency } = result.data;\n\n        const options = {\n            key: \"rzp_test_OtYQpHZwPpuyIg\", // Enter the Key ID generated from the Dashboard\n            amount: amount.toString(),\n            currency: currency,\n            name: \"TrendZaade\",\n            description: \"Pay Now Get Delivered\",\n            image: \"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\",\n            order_id: order_id,\n            handler: async function (response) {\n                const data = {\n                    orderCreationId: order_id,\n                    razorpayPaymentId: response.razorpay_payment_id,\n                    razorpayOrderId: response.razorpay_order_id,\n                    razorpaySignature: response.razorpay_signature,\n                };\n\n            },\n            prefill: {\n                name: \"\",\n                email: \"\",\n                contact: \"\",\n            },\n            notes: {\n                address: \"Trendzaade Office\",\n            },\n            theme: {\n                color: \"#61dafb\",\n            },\n        };\n\n        const paymentObject = new window.Razorpay(options);\n        paymentObject.open();\n    }\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <img src=\"https://img.freepik.com/free-vector/people-logo-luxury-gradient-design-illustration_483537-1452.jpg\" className=\"App-logo\" alt=\"logo\" />\n                <p>Buy React now!</p>\n                <button className=\"App-link\" onClick={displayRazorpay}>\n                    Pay â‚¹500\n                </button>\n            </header>\n        </div>\n    );\n}\n\nexport default RazorpayPaymentScreen;"],"mappings":"0QAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,QAASC,sBAAqB,EAAE,CAC5B,QAASC,WAAU,CAACC,GAAG,CAAE,CACrB,MAAO,IAAIC,QAAO,CAAC,SAACC,OAAO,CAAK,CAC5B,GAAMC,OAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACH,GAAG,CAAGA,GAAG,CAChBG,MAAM,CAACG,MAAM,CAAG,UAAM,CAClBJ,OAAO,CAAC,IAAI,CAAC,CACjB,CAAC,CACDC,MAAM,CAACI,OAAO,CAAG,UAAM,CACnBL,OAAO,CAAC,KAAK,CAAC,CAClB,CAAC,CACDE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC,CACrC,CAAC,CAAC,CACN,CAAC,QAEcO,gBAAe,yJAA9B,2OACsBX,WAAU,CACxB,8CAA8C,CACjD,QAFKY,GAAG,mBAIJA,GAAG,0BACJC,KAAK,CAAC,8CAA8C,CAAC,CAAC,gEAIrCf,MAAK,CAACgB,IAAI,CAAC,qBAAqB,CAAC,QAAhDC,MAAM,mBAEPA,MAAM,2BACPF,KAAK,CAAC,+BAA+B,CAAC,CAAC,0CAI3C;AAAA,aAE2CE,MAAM,CAACC,IAAI,CAA9CC,MAAM,cAANA,MAAM,CAAMC,QAAQ,cAAZC,EAAE,CAAYC,QAAQ,cAARA,QAAQ,CAEhCC,OAAO,CAAG,CACZC,GAAG,CAAE,yBAAyB,CAAE;AAChCL,MAAM,CAAEA,MAAM,CAACM,QAAQ,EAAE,CACzBH,QAAQ,CAAEA,QAAQ,CAClBI,IAAI,CAAE,YAAY,CAClBC,WAAW,CAAE,uBAAuB,CACpCC,KAAK,CAAE,qGAAqG,CAC5GR,QAAQ,CAAEA,QAAQ,CAClBS,OAAO,mFAAE,iBAAgBC,QAAQ,4HACvBZ,IAAI,CAAG,CACTa,eAAe,CAAEX,QAAQ,CACzBY,iBAAiB,CAAEF,QAAQ,CAACG,mBAAmB,CAC/CC,eAAe,CAAEJ,QAAQ,CAACK,iBAAiB,CAC3CC,iBAAiB,CAAEN,QAAQ,CAACO,kBAChC,CAAC,sDAEJ,kFACDC,OAAO,CAAE,CACLZ,IAAI,CAAE,EAAE,CACRa,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EACb,CAAC,CACDC,KAAK,CAAE,CACHC,OAAO,CAAE,mBACb,CAAC,CACDC,KAAK,CAAE,CACHC,KAAK,CAAE,SACX,CACJ,CAAC,CAEKC,aAAa,CAAG,GAAIC,OAAM,CAACC,QAAQ,CAACxB,OAAO,CAAC,CAClDsB,aAAa,CAACG,IAAI,EAAE,CAAC,wDACxB,kDAED,mBACI,YAAK,SAAS,CAAC,KAAK,uBAChB,gBAAQ,SAAS,CAAC,YAAY,wBAC1B,YAAK,GAAG,CAAC,qGAAqG,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAG,cACjJ,mBAAG,gBAAc,EAAI,cACrB,eAAQ,SAAS,CAAC,UAAU,CAAC,OAAO,CAAEnC,eAAgB,UAAC,eAEvD,EAAS,GACJ,EACP,CAEd,CAEA,cAAeZ,sBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}